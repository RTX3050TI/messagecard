<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carta Especial üíñ</title>

<style>
body{
    margin:0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg,#ff758c,#ff7eb3);
    overflow:hidden;
    text-align:center;
    color:#333;
}

/* Fondo corazones suaves */
.corazon{
    position:absolute;
    color:rgba(255,255,255,0.4);
    font-size:20px;
    animation:flotar 8s linear infinite;
}

@keyframes flotar{
    from{ transform:translateY(100vh);}
    to{ transform:translateY(-10vh);}
}

#pantallaInicio{
    height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
}

#contenido{
    display:none;
    padding:40px;
    animation:aparecer 2s ease;
}

@keyframes aparecer{
    from{opacity:0; transform:scale(0.9);}
    to{opacity:1; transform:scale(1);}
}

.card{
    background:white;
    padding:35px;
    border-radius:25px;
    max-width:600px;
    margin:auto;
    box-shadow:0 15px 40px rgba(0,0,0,0.3);
}

h1{
    color:#e91e63;
}

button{
    padding:15px 25px;
    font-size:18px;
    border:none;
    border-radius:30px;
    background:white;
    color:#e91e63;
    cursor:pointer;
    transition:0.3s;
}

button:hover{
    transform:scale(1.1);
}
</style>
</head>

<body>

<div id="pantallaInicio">
    <h2 style="color:white;">üéÅ Tienes algo especial...</h2>
    <button onclick="abrirCarta()">Abrir Carta üíå</button>
</div>

<div id="contenido">
    <div class="card">
        <h1 id="titulo"></h1>
        <p id="mensaje" style="font-size:18px; line-height:1.6;"></p>
    </div>

    <br>

    <audio id="musica" controls autoplay loop>
        <source src="musica.mp3" type="audio/mpeg">
    </audio>

    <div id="youtube"></div>
</div>

<script>

// Obtener par√°metros
const params = new URLSearchParams(window.location.search);
let para = params.get("para") || "Mi Amor";
let de = params.get("de") || "Alguien que te quiere";
let tipo = params.get("tipo") || "novia";
let fechaExp = params.get("exp");
let yt = params.get("yt");

// Fecha de expiraci√≥n
if(fechaExp){
    let limite = new Date(fechaExp);
    if(new Date() > limite){
        document.body.innerHTML = "<h2 style='margin-top:40vh;color:white;'>‚è≥ Esta carta ha expirado üíî</h2>";
    }
}

// Mensajes largos mejorados
let texto = "";

if(tipo === "esposa"){
texto = `
Mi amada esposa ${para},

Desde el d√≠a que decidimos caminar juntos, mi vida cambi√≥ para siempre.  
Eres mi compa√±era, mi apoyo, mi paz y mi fuerza.  

Gracias por cada sonrisa, por cada abrazo,  
por cada momento en el que hiciste que todo valiera la pena.  

Tu amor ilumina mis d√≠as incluso en los momentos dif√≠ciles.  
Eres mi hogar, mi destino y mi eternidad. ‚ù§Ô∏è
`;
}
else if(tipo === "novia"){
texto = `
Mi hermosa ${para},

No s√© en qu√© momento te convertiste en mi pensamiento favorito,  
pero ahora cada d√≠a tiene tu nombre escrito en √©l.  

Tu sonrisa tiene el poder de cambiar mi estado de √°nimo,  
y tu voz se volvi√≥ la melod√≠a que calma mi coraz√≥n.  

Gracias por existir, por compartir tu tiempo conmigo,  
y por hacer que cada momento a tu lado sea m√°gico. üíï

Contigo quiero seguir creando recuerdos,  
sue√±os y promesas que duren para siempre.
`;
}
else{
texto = `
Querida ${para},

Tu amistad es uno de los regalos m√°s sinceros que tengo en mi vida.  

Gracias por escuchar, por aconsejar,  
por estar cuando m√°s se necesita sin pedir nada a cambio.  

Las verdaderas amistades son raras,  
y t√∫ eres una de esas personas especiales que marcan el coraz√≥n. üå∏

Espero que esta peque√±a carta te recuerde  
lo valiosa e importante que eres.
`;
}

texto += `<br><br>Con todo mi cari√±o,<br><strong>${de}</strong>`;

document.getElementById("titulo").innerText = "üíñ Para " + para + " üíñ";
document.getElementById("mensaje").innerHTML = texto;

// Bot√≥n abrir
function abrirCarta(){
    document.getElementById("pantallaInicio").style.display="none";
    document.getElementById("contenido").style.display="block";
}

// Corazones animados
function crearCorazon(){
    let c = document.createElement("div");
    c.className="corazon";
    c.innerHTML="üíó";
    c.style.left=Math.random()*100+"vw";
    c.style.fontSize=(15+Math.random()*20)+"px";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),8000);
}
setInterval(crearCorazon,400);

// YouTube opcional
if(yt){
    document.getElementById("youtube").innerHTML =
    `<iframe width="300" height="200"
    src="https://www.youtube.com/embed/${yt}?autoplay=1&loop=1&playlist=${yt}"
    frameborder="0" allow="autoplay"></iframe>`;
}

</script>

</body>
</html>
